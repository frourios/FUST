% Chapter: Dimensional Analysis --- Structural Typing of FUST Quantities
\chapter{Dimensional Analysis}
\label{chap:dimensional_analysis}

\section{Motivation}
\label{sec:dim_motivation}

In FUST, quantities such as $t_P = 1/(20\sqrt{15})$ and $\lambda_{\min} = 12/25$ are defined as $\mathbb{R}$-valued (real part of $\mathbb{C}$) in the Lean implementation.
This allows type-checked operations like $t_P + \lambda_{\min}$ that are physically meaningless.
A time and an eigenvalue may share the same base type yet represent fundamentally different physical quantities.

This chapter introduces a \textbf{structural type system} $(p, \delta)$ derived from FUST's internal algebraic structure,
classifying all quantities into three disjoint types: \textbf{ScaleQuantity}, \textbf{CountQuantity}, and \textbf{RatioQuantity}.

\section{Two Independent Dimensions}
\label{sec:dim_two_dimensions}

\begin{definition}[FUST Dimension]
\label{def:dim_fdim}
\lean{FUST.Dim.FDim}
\leanok
The dimension of a FUST ScaleQuantity is a pair $(p, \delta) \in \mathbb{Z}^2$:
\begin{itemize}
\item $p$: \textbf{$\varphi$-power dimension} --- exponent of $(\varphi - \psi) = \sqrt{5}$, tracking the normalization denominator $(\varphi - \psi)^{m-1}$ of each $D_m$
\item $\delta$: \textbf{dissipation dimension} --- parity of the operator's $\varphi/\psi$ symmetry; $\delta = 1$ for antisymmetric (even-$m$) operators, $\delta = 0$ for symmetric (odd-$m$) operators
\end{itemize}
\end{definition}

\subsection{Dimension I: \texorpdfstring{$\varphi$}{φ}-Power Dimension $p$}

The discrete scale lattice $\varphi^k$ ($k \in \mathbb{Z}$) generates FUST's hierarchical structure.
Time evolution $f \mapsto f(\varphi \cdot)$ shifts $p$ by $+1$.
The normalization denominator $(\varphi - \psi)^{m-1}$ of each $D_m$ contributes $-(m-1)$ to $p$.

\subsection{Dimension II: Dissipation Dimension \texorpdfstring{$\delta$}{δ}}

The dissipation coefficient $C_d$ is the value of $D_6$ applied to $x^d$.
Even-$m$ operators ($D_2, D_4, D_6$) have antisymmetric coefficient patterns yielding $\sqrt{5} \cdot F_n$ (Fibonacci) factors,
giving $\delta = 1$.
Odd-$m$ operators ($D_3, D_5$) have symmetric patterns yielding Lucas integers, giving $\delta = 0$.

\section{Type Hierarchy}
\label{sec:dim_type_hierarchy}

\begin{definition}[ScaleQuantity]
\label{def:dim_scaleq}
\lean{FUST.Dim.ScaleQ}
\leanok
$\mathrm{ScaleQ}(p, \delta)$: a quantity carrying dimension $(p, \delta)$, with $\mathbb{R}$-valued evaluation.
Addition is restricted to quantities of identical dimension.
\end{definition}

\begin{definition}[CountQuantity]
\label{def:dim_countq}
\lean{FUST.Dim.CountQ}
\leanok
$\mathrm{CountQ}$: a natural number arising from kernel dimensions, pair counts, or tensor products.
Carries no $(p, \delta)$ structure.
\end{definition}

\begin{definition}[RatioQuantity]
\label{def:dim_ratioq}
\lean{FUST.Dim.RatioQ}
\leanok
$\mathrm{RatioQ}$: a rational number formed as ratios of pair counts.
Dimensionless ($p = \delta = 0$).
\end{definition}

\begin{theorem}[Type Separation]
\label{thm:dim_type_separation}
Addition across types is prohibited:
\begin{itemize}
\item $\mathrm{ScaleQ}(d_1) + \mathrm{ScaleQ}(d_2)$ requires $d_1 = d_2$
\item $\mathrm{ScaleQ} + \mathrm{CountQ}$: type error
\item $\mathrm{ScaleQ} + \mathrm{RatioQ}$: type error
\item $\mathrm{CountQ} + \mathrm{RatioQ}$: type error
\end{itemize}
\end{theorem}

\section{Algebra of Dimensions}
\label{sec:dim_algebra}

\begin{theorem}[Multiplicative Group]
\label{thm:dim_comm_group}
\lean{FUST.Dim.instCommGroupFDim}
\leanok
$(p, \delta)$ forms a commutative group under componentwise addition:
\begin{align}
\dim(Q_1 \cdot Q_2) &= (p_1 + p_2,\; \delta_1 + \delta_2) \\
\dim(Q_1 / Q_2) &= (p_1 - p_2,\; \delta_1 - \delta_2)
\end{align}
\end{theorem}

\section{Difference Operator Output Dimensions}
\label{sec:dim_operator_output}

\begin{definition}[Operator Output Dimension]
\label{def:dim_derive_fdim}
\lean{FUST.Dim.deriveFDim}
\leanok
The output dimension of $D_m$ is:
\[
\dim(D_m f(x)) = (-(m-1),\; \delta_m)
\]
where $\delta_m = [m \bmod 2 = 0]$ (1 if even, 0 if odd).
\end{definition}

\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
Operator & Symmetry & $\delta$ & $(p, \delta)$ \\
\hline
$D_2$ & antisymmetric (Fibonacci) & 1 & $(-1, 1)$ \\
$D_3$ & symmetric (Lucas) & 0 & $(-2, 0)$ \\
$D_4$ & antisymmetric (Fibonacci) & 1 & $(-3, 1)$ \\
$D_5$ & symmetric (Lucas) & 0 & $(-4, 0)$ \\
$D_6$ & antisymmetric (Fibonacci) & 1 & $(-5, 1)$ \\
\hline
\end{tabular}
\end{center}

\begin{theorem}[Operators Have Distinct Dimensions]
\label{thm:dim_operators_distinct}
For $i \neq j$, $\dim(D_i f) \neq \dim(D_j f)$, so $D_i f(x) + D_j f(x)$ is a type error.
\end{theorem}

\begin{theorem}[$D_6$ Output Is Inverse Time]
\label{thm:dim_D6_inverse_time}
\lean{FUST.Dim.D6_output_is_inverse_time}
\leanok
\[
\dim(D_6 f) = (-5, 1) = \dim(t_P)^{-1}
\]
\end{theorem}

\section{Structural Constants}
\label{sec:dim_structural_constants}

\begin{definition}[Time Dimension]
\label{def:dim_time}
\lean{FUST.Dim.dimTime}
\leanok
\[
\dim(t_P) := (\dim(D_6 f))^{-1} = (5, -1)
\]
\end{definition}

\begin{definition}[Per-Operator Time Dimension: $D_2$]
\label{def:dim_time_D2}
\lean{FUST.Dim.dimTimeD2}
\leanok
\[
\mathrm{dimTimeD2} := (\dim(D_2 f))^{-1} = (1, -1)
\]
This is the fundamental $\varphi$-scaling unit used in particle mass decomposition.
\end{definition}

\begin{definition}[Lagrangian Dimension]
\label{def:dim_lagrangian}
\lean{FUST.Dim.dimLagrangian}
\leanok
\[
\dim((D_6 f)^2) = 2 \cdot (-5, 1) = (-10, 2)
\]
\end{definition}

\section{$D_{5\frac{1}{2}}$ Direct Sum Structure}
\label{sec:dim_d5half}

\begin{definition}[$D_{5\frac{1}{2}}$ Dimension]
\label{def:dim_d5half}
$D_{5\frac{1}{2}} f(x) = D_5 f(x) + \frac{2}{\varphi} \cdot x \cdot D_2 f(x)$ has a direct sum type:
\[
D_{5\frac{1}{2}} f(x) \in \mathrm{ScaleQ}(-4, 0) \oplus \mathrm{ScaleQ}(-1, 1)
\]
The $D_5$ component has dimension $(-4, 0)$ and the $D_2$ component has dimension $(-1, 1)$.
This is a \textbf{dimension bridge operator} connecting the two sectors.
\end{definition}

\section{Physical Quantity Classification}
\label{sec:dim_classification}

\subsection{ScaleQuantity Instances}

Each particle has a unique FDim $= \mathrm{deriveFDim}(6)^a \times \mathrm{dimTimeD2}^n$, where
$a$ is the sector exponent and $n$ is the $\varphi$-scaling index.

\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
Quantity & $(p, \delta)$ & Sector & Lean reference \\
\hline
$t_P = 1/(20\sqrt{15})$ & $(5, -1)$ & --- & \texttt{planckSecond} \\
$D_6 f(x)$ & $(-5, 1)$ & $D_6$ & \texttt{D6\_dim} \\
$(D_6 f)^2$ & $(-10, 2)$ & $D_6^2$ & \texttt{dimLagrangian} \\
$\Delta = m_e$ & $(-5, 1)$ & $D_6$ & \texttt{dimElectron} \\
$m_\mu = \Delta \cdot \varphi^{11}$ & $(6, -10)$ & $D_6$ & \texttt{dimMuon} \\
$m_\tau = \Delta \cdot \varphi^{17}$ & $(12, -16)$ & $D_6$ & \texttt{dimTau} \\
$m_p$ & $(9, -13)$ & $D_6$ & \texttt{dimProton} \\
$m_n$ & $(8, -12)$ & $D_6 \times D_2$ & \texttt{dimNeutron} \\
$m_W$ & $(20, -24)$ & $D_6$ & \texttt{dimWBoson} \\
$m_{\nu_3}$ & $(-42, 34)$ & $D_6^2$ & \texttt{dimNu3} \\
$m_{\nu_2}$ & $(-43, 35)$ & $D_6^2 \times D_2$ & \texttt{dimNu2} \\
\hline
$m_Z^2$ (comp1) & $(40, -48)$ & $D_6^2$ & \texttt{dimZSqComp1} \\
$m_Z^2$ (comp2) & $(42, -46)$ & Mixed & \texttt{dimZSqComp2} \\
$m_H$ (comp1) & $(21, -25)$ & $D_6$ & \texttt{dimHiggsVacuum} \\
$m_H$ (comp2) & $(18, -22)$ & $D_6$ & \texttt{dimHiggsCorrection} \\
\hline
$m_s/m_d = \varphi^6$ & $(0, 0)$ & Ratio & \texttt{msMdRatio} \\
$\alpha = \varphi^{-5}/4\pi$ & $(0, 0)$ & Ratio & \texttt{fineStructure} \\
\hline
\end{tabular}
\end{center}

$m_Z$ and $m_H$ are \texttt{DimSum2}: formal sums of two ScaleQ with different FDim,
whose $\mathbb{R}$-evaluation (\texttt{.eval}) gives the physical mass.
All \texttt{.val}-based dimensionless ratios are invariant under FDim relabeling.

\subsection{CountQuantity Instances}

\begin{center}
\begin{tabular}{|c|c|c|}
\hline
Quantity & Value & Lean reference \\
\hline
$\mathrm{card}(\mathrm{Fin}\,2) = \dim\ker(D_5)$ & 2 & \texttt{Fintype.card (Fin 2)} \\
$\mathrm{card}(\mathrm{Fin}\,3) = \dim\ker(D_6)$ & 3 & \texttt{Fintype.card (Fin 3)} \\
Spacetime dimension & 4 & \texttt{spacetimeDim} \\
Active $D_\zeta$ projections & 5 & \texttt{activeDLevels} \\
SM particle count & 37 & \texttt{smParticleCount} \\
\hline
\end{tabular}
\end{center}

\subsection{RatioQuantity Instances}

\begin{center}
\begin{tabular}{|c|c|c|}
\hline
Quantity & Value & Lean reference \\
\hline
$\sin^2\theta_W$ & $C(3,2)/(C(3,2)+C(5,2)) = 3/13$ & \texttt{weinbergAngle} \\
$\alpha_s$ & $C(3,2)/(C(5,2)+C(6,2)) = 3/25$ & \texttt{strongCoupling} \\
$m_u/m_d$ & $C(2,2)/2 = 1/2$ & \texttt{muMdRatio} \\
$m_W^2/m_Z^2$ & $C(5,2)/(C(3,2)+C(5,2)) = 10/13$ & \texttt{wzRatioSq} \\
$\sin^2\theta_{12}$ & $1/C(3,2) = 1/3$ & \texttt{solarMixing} \\
\hline
\end{tabular}
\end{center}

\section{Consistency Verification}
\label{sec:dim_consistency}

\begin{theorem}[Blueprint Consistency]
\label{thm:dim_blueprint_consistency}
The dimensional type system is consistent with all blueprint theorems:
\begin{center}
\begin{tabular}{|c|c|}
\hline
Blueprint theorem & Dimensional verification \\
\hline
$t_P = 1/(20\sqrt{15})$ & Scale$(5,-1)$ $\checkmark$ \\
$\lambda_{\min} = 12/25$ & Scale$(-5,1)$ $\checkmark$ \\
$\sin^2\theta_W = 3/13$ & Ratio (Count/Count) $\checkmark$ \\
$(D_6 f)^2$ Hamiltonian & Scale$(-10,2)$ $\checkmark$ \\
$D_6[\mathrm{timeEvolution}(f)] = \varphi \cdot D_6[f](\varphi \cdot)$ & Both sides: $(-5,1)$ $\checkmark$ \\
\hline
\end{tabular}
\end{center}
\end{theorem}

\section{Energy Conservation in Proper Time}
\label{sec:dim_energy_conservation}

Time evolution amplifies $D_6$ by $\varphi$:
\[
D_6[\mathrm{timeEvolution}(f)](x) = \varphi \cdot D_6[f](\varphi x)
\]
Squaring: $H' = \varphi^2 \cdot H$ in coordinate time. The conserved quantity in proper time is:
\[
E_{\mathrm{conserved}} = \frac{H}{\varphi^{2 \cdot \mathrm{step}}}
\]

\begin{center}
\begin{tabular}{|c|c|}
\hline
FUST & General Relativity \\
\hline
Coordinate step & Coordinate time $t$ \\
$(D_6 f)^2 : (-10, 2)$ & Metric $g_{00}$ \\
$\varphi^2$ amplification & Gravitational redshift \\
$E_{\mathrm{conserved}}$ & $\nabla_\mu T^{\mu\nu} = 0$ \\
\hline
\end{tabular}
\end{center}

\section{\texorpdfstring{$\Delta^2 \leq E$}{Δ^2 ≤ E} Interpretation}
\label{sec:dim_spectral_gap}

\begin{theorem}[Spectral Gap Dimensional Interpretation]
\label{thm:dim_spectral_gap}
\lean{FUST.D6MinEigenvalue_sq}
\leanok
$\Delta = C_3/(\sqrt{5})^5 = 12/25$ is ScaleQuantity$(-5, 1)$, and $\Delta^2 = 144/625$ is ScaleQuantity$(-10, 2)$.
The comparison $\Delta^2 \leq E$ in \texttt{EnergyInSpectrum} compares quantities of the same dimension $(-10, 2)$,
which is dimensionally consistent.
\end{theorem}

\section{State Class Decomposition}
\label{sec:dim_state_class}

Every FDim decomposes as $\mathrm{deriveFDim}(6)^a \times \mathrm{dimTimeD2}^n$ with $(a,n) \in \mathbb{Z}^2$:
\begin{itemize}
\item \textbf{effectiveDegree} $d = -p - 2\delta$: polynomial degree of state function representative
\item \textbf{sectorPower} $a = (-p - \delta) / 4$: which $D_6^a$ detects it
\item \textbf{detectionLevel} $n = d - 3a$: $D_2$ iterations beyond $D_6^a$ baseline
\end{itemize}

\section{Degree Constraint from Mass Condition}
\label{sec:dim_degree_constraint}

The BH formation condition $|D_6(x^d)(x_0)| < 1$ constrains admissible polynomial degrees.
For monomial state functions $g(x) = x^d$:
\[
D_6(x^d)(x_0) = C_d \cdot x_0^{d-1}, \quad C_d = \frac{F_{3d} - 3F_{2d} + F_d}{25}
\]
where $F_n$ is the $n$-th Fibonacci number. Since $C_d \sim \varphi^{3d}/(25\sqrt{5})$,
higher degrees produce larger mass, bounding degree from above.

\begin{theorem}[\texorpdfstring{$D_6(x^4)$}{D6(x\^{}4)} Quartic Formula]
\label{thm:dim_d6_quartic}
\lean{FUST.D6_quartic_eq}
\leanok
\[
D_6(x^4)(x_0) = \frac{84}{25} \cdot x_0^3
\]
where $84 = F_{12} - 3F_8 + F_4 = 144 - 63 + 3$.
\end{theorem}

\begin{theorem}[Cubic Admissible in Domain]
\label{thm:dim_cubic_admissible}
\lean{FUST.cubic_admissible_in_domain}
\leanok
For $x_0 \in (0, 1]$ (FUST coordinate domain):
\[
|D_6(x^3)(x_0)| = \frac{12}{25} \cdot x_0^2 \leq \frac{12}{25} < 1
\]
The cubic mode is admissible throughout the FUST domain.
\end{theorem}

\begin{theorem}[Quartic Inadmissible at \texorpdfstring{$x_0 = 1$}{x0 = 1}]
\label{thm:dim_quartic_inadmissible}
\lean{FUST.quartic_inadmissible_at_one}
\leanok
\[
D_6(x^4)(1) = \frac{84}{25} = 3.36 > 1
\]
The quartic mode exceeds the mass threshold at $x_0 = 1$.
\end{theorem}

\begin{definition}[Admissible Mode]
\label{def:dim_admissible_mode}
\lean{FUST.IsAdmissibleMode}
\leanok
A mode $(d, x_0)$ is \emph{admissible} if $x_0 \neq 0 \Rightarrow |D_6(x^d)(x_0)| < 1$.
\end{definition}

\begin{theorem}[\texorpdfstring{$d_{\max} = 3$}{dmax = 3} at \texorpdfstring{$x_0 = 1$}{x0 = 1}]
\label{thm:dim_dmax_at_one}
\lean{FUST.d_max_at_one}
\leanok
At $x_0 = 1$, the cubic mode is the unique admissible massive mode:
\[
\mathrm{IsAdmissibleMode}(3, 1) \quad \land \quad \lnot\, \mathrm{IsAdmissibleMode}(4, 1)
\]
\end{theorem}

\begin{center}
\begin{tabular}{|c|c|c|c|}
\hline
$k$ & $x_0 = \varphi^{-k}$ & $d_{\max}$ & Physical meaning \\
\hline
0 & 1 & 3 & Cubic only \\
1 & $\varphi^{-1} \approx 0.618$ & 4 & Cubic + quartic \\
2 & $\varphi^{-2} \approx 0.382$ & 6 & Low-degree modes \\
$\geq 3$ & $\leq \varphi^{-3} \approx 0.236$ & $\infty$ & All degrees allowed \\
\hline
\end{tabular}
\end{center}

The critical threshold $k = 3$ corresponds to the highest node degree $\varphi^3$ in $D_6$.
The net $\varphi$-exponent $d(3-k) + k$ becomes $d$-independent at $k = 3$,
with limit $\varphi^3/(25\sqrt{5}) \approx 0.076 < 1$.
