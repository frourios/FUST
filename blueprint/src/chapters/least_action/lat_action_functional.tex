% FUST Least Action Theorem - Action Functional
\chapter{Action Principle and Variational Structure}
\label{chap:mat_action_functional}

The action principle is not assumed but derived from $F_\zeta$ linearity. The Lagrangian $L[f](z) = |F_\zeta f(z)|^2$ (Chapter~\ref{chap:mat_mass_energy}) admits rigorous variational calculus.

\section{Scale Invariant Measure}
\label{sec:mat_measure}

The measure must be invariant under $\varphi$-scaling $x \to \varphi x$:
\[
\mu(\varphi A) = \mu(A) \quad \text{for all measurable } A
\]

In logarithmic coordinates $y = \log(x)$, $\varphi$-scaling becomes translation $y \to y + \log(\varphi)$. Since Lebesgue measure is translation-invariant:
\[
d\mu = \frac{dx}{x}
\]
This is the \textbf{Haar measure} on $(0, \infty)$, unique up to scalar.

\section{Action Functional}
\label{sec:mat_action}

\begin{definition}[FUST Action Functional]
\label{def:mat_action}
\lean{FUST.action_functional}
\leanok
\[
\mathcal{A}[f] = \int_0^\infty |\mathrm{Diff}_6 f(x)|^2 \frac{dx}{x}
\]
\end{definition}

\begin{theorem}[Least Action Solutions]
\label{thm:mat_minimal_action}
\lean{FUST.minimal_action_ker}
\leanok
$\mathcal{A}[f] = 0 \iff f \in \ker(F_\zeta)$. Minimal action solutions are light-cone states.
\end{theorem}

\begin{center}
\begin{tabular}{|c|c|c|}
\hline
State & Action & Physics \\
\hline
$\ker(F_\zeta)$ & $\mathcal{A}[f] = 0$ & Light cone (photon worldline) \\
$\ker(F_\zeta)^\perp$ & $\mathcal{A}[f] > 0$ & Massive state (has proper time) \\
\hline
\end{tabular}
\end{center}

\section{Variational Structure}
\label{sec:mat_variational}

\begin{theorem}[$F_\zeta$ Linearity]
\label{thm:mat_Fzeta_linear}
\lean{FUST.LeastAction.Fζ_linear_combination}
\leanok
\[
F_\zeta(af + bg)(z) = a \cdot F_\zeta f(z) + b \cdot F_\zeta g(z)
\]
\end{theorem}

\begin{theorem}[Lagrangian Perturbation]
\label{thm:mat_lagrangian_perturbation}
\lean{FUST.LeastAction.lagrangian_perturbation}
\leanok
For perturbation $f \mapsto f + \varepsilon\eta$:
\[
L[f + \varepsilon\eta](z) = |F_\zeta f(z)|^2 + 2\,\mathrm{Re}(\varepsilon \cdot F_\zeta\eta(z) \cdot \overline{F_\zeta f(z)}) + |\varepsilon|^2 |F_\zeta\eta(z)|^2
\]
\end{theorem}

\begin{theorem}[Critical Point of Witness]
\label{thm:mat_critical_point}
\lean{FUST.LeastAction.critical_point_of_witness}
\leanok
If $\exists \eta: F_\zeta\eta(z) \neq 0$, then:
\[
(\forall \eta,\; F_\zeta f(z) \cdot F_\zeta\eta(z) = 0) \;\Longrightarrow\; F_\zeta f(z) = 0
\]
\end{theorem}

The witness $\eta(t) = t$ satisfies $F_\zeta(\mathrm{id})(z) \neq 0$ for $z \neq 0$ (Lean: \texttt{FUST.SchrodingerEquation.Fζ\_detects\_active}), completing:
\[
\delta L = 0 \;\Longrightarrow\; F_\zeta f = 0 \;\Longleftrightarrow\; f \in \ker(F_\zeta)
\]

\section{Euler-Lagrange Equation}
\label{sec:mat_euler_lagrange}

For $\mathcal{A}[f] = \int |\mathrm{Diff}_6 f|^2 d\mu$:
\[
\delta\mathcal{A} = 2 \int \delta f \cdot \mathrm{Diff}_6^\dagger(\mathrm{Diff}_6 f) \, d\mu = 0
\]

\begin{theorem}[Euler-Lagrange Equation]
\label{thm:mat_euler_lagrange}
$\mathrm{Diff}_6^\dagger(\mathrm{Diff}_6 f) = 0$, equivalently $\ker(\mathrm{Diff}_6^\dagger \mathrm{Diff}_6) = \ker(F_\zeta)$.
\end{theorem}

\section{Frourio Formulation}
\label{sec:mat_frourio}

In logarithmic (Frourio) coordinates, $\varphi$-scaling becomes time translation:

\begin{definition}[Frourio Time]
\label{def:mat_frourio_time}
\lean{FUST.LeastAction.frourioTime}
\leanok
$t(x) = \log_{\mathfrak{f}}(x)$, where $\mathfrak{f}$ is the Frourio constant.
\end{definition}

\begin{definition}[Frourio Lagrangian]
\label{def:mat_frourio_lagrangian}
\lean{FUST.LeastAction.FrourioLagrangian}
\leanok
$L_{\mathfrak{f}}(f, t) = (\mathrm{Diff}_6[f](\mathfrak{f}^t))^2$.
\end{definition}

\begin{theorem}[$\varphi$-Scaling = Time Translation]
\label{thm:mat_phi_time_shift}
\lean{FUST.LeastAction.phi_scale_is_time_shift}
\leanok
$t(\varphi x) = t(x) + \mathrm{phiStep}$.
\end{theorem}

\begin{theorem}[Complete Frourio Formulation]
\label{thm:mat_frourio_complete}
\lean{FUST.LeastAction.frourio_least_action_formulation}
\leanok
\begin{enumerate}
\item Coordinate change preserves Lagrangian
\item $\ker(F_\zeta)$ states have zero action density
\item Positive action density implies time exists
\item $\varphi$-scaling becomes time translation
\end{enumerate}
\end{theorem}

\begin{quote}
\textbf{Time is the logarithmic deviation from scale invariance.}
\end{quote}
